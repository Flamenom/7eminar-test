# Руководство по развертыванию

## Требования

- Node.js 18.x или выше
- pnpm 8.x или выше
- Git

## Подготовка к развертыванию

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd <project-directory>
```

2. Установите зависимости:
```bash
pnpm install
```

3. Создайте файл `.env` на основе `.env.example` и заполните необходимые переменные окружения:
```bash
cp .env.example .env
```

## Развертывание в продакшн

### 1. Сборка проекта

```bash
pnpm build
```

### 2. Запуск в продакшн режиме

```bash
pnpm start
```

## Развертывание на Vercel

1. Установите Vercel CLI:
```bash
pnpm add -g vercel
```

2. Войдите в Vercel:
```bash
vercel login
```

3. Разверните проект:
```bash
vercel
```

## Развертывание на Netlify

1. Установите Netlify CLI:
```bash
pnpm add -g netlify-cli
```

2. Войдите в Netlify:
```bash
netlify login
```

3. Инициализируйте проект:
```bash
netlify init
```

4. Разверните проект:
```bash
netlify deploy --prod
```

## Переменные окружения

### Обязательные переменные

- `NODE_ENV` - окружение (development/production)
- `API_BASE_URL` - базовый URL API
- `WS_URL` - URL WebSocket сервера

### Опциональные переменные

- `SENTRY_DSN` - DSN для Sentry (если используется)
- `GA_ID` - ID Google Analytics (если используется)

## Мониторинг и логирование

В продакшн режиме логи автоматически отправляются в Sentry (если настроен).

## Масштабирование

Для масштабирования приложения рекомендуется:

1. Использовать балансировщик нагрузки
2. Настроить кэширование на уровне CDN
3. Использовать Redis для кэширования данных
4. Настроить мониторинг производительности

## Резервное копирование

Рекомендуется настроить автоматическое резервное копирование:

1. База данных - ежедневно
2. Файлы - еженедельно
3. Конфигурация - при каждом изменении

## Обновление

Для обновления приложения:

1. Получите последние изменения:
```bash
git pull
```

2. Установите новые зависимости:
```bash
pnpm install
```

3. Пересоберите проект:
```bash
pnpm build
```

4. Перезапустите приложение:
```bash
pnpm start
```

## Устранение неполадок

### Распространенные проблемы

1. **Ошибка порта**
   - Проверьте, не занят ли порт другим процессом
   - Убедитесь, что порт открыт в файрволе

2. **Ошибки подключения к базе данных**
   - Проверьте настройки подключения
   - Убедитесь, что база данных доступна

3. **Проблемы с WebSocket**
   - Проверьте настройки WebSocket сервера
   - Убедитесь, что порт WebSocket открыт

### Логи

Логи приложения находятся в:
- Development: консоль
- Production: `/var/log/app.log`

## Контакты

Для получения поддержки:
- Email: support@example.com
- Slack: #support
- GitHub Issues: https://github.com/your-repo/issues 